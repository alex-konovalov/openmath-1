% generated by GAPDoc2LaTeX from XML source (Frank Luebeck)
\documentclass[a4paper,11pt]{report}
\usepackage{a4wide}
\sloppy
\pagestyle{myheadings}
\usepackage{amssymb}
\usepackage[latin1]{inputenc}
\usepackage{makeidx}
\makeindex
\usepackage{color}
\definecolor{DarkOlive}{rgb}{0.1047,0.2412,0.0064}
\definecolor{FireBrick}{rgb}{0.5812,0.0074,0.0083}
\definecolor{RoyalBlue}{rgb}{0.0236,0.0894,0.6179}
\definecolor{RoyalGreen}{rgb}{0.0236,0.6179,0.0894}
\definecolor{RoyalRed}{rgb}{0.6179,0.0236,0.0894}
\definecolor{LightBlue}{rgb}{0.8544,0.9511,1.0000}
\definecolor{Black}{rgb}{0.0,0.0,0.0}
\definecolor{FuncColor}{rgb}{1.0,0.0,0.0}
%% strange name because of pdflatex bug:
\definecolor{Chapter }{rgb}{0.0,0.0,1.0}

\usepackage{fancyvrb}

\usepackage{pslatex}

\usepackage[pdftex=true,
        a4paper=true,bookmarks=false,pdftitle={Written with GAPDoc},
        pdfcreator={LaTeX with hyperref package / GAPDoc},
        colorlinks=true,backref=page,breaklinks=true,linkcolor=RoyalBlue,
        citecolor=RoyalGreen,filecolor=RoyalRed,
        urlcolor=RoyalRed,pagecolor=RoyalBlue]{hyperref}

% write page numbers to a .pnr log file for online help
\newwrite\pagenrlog
\immediate\openout\pagenrlog =\jobname.pnr
\immediate\write\pagenrlog{PAGENRS := [}
\newcommand{\logpage}[1]{\protect\write\pagenrlog{#1, \thepage,}}
%% were never documented, give conflicts with some additional packages


\newcommand{\GAP}{\textsf{GAP}}

\begin{document}

\logpage{[ 0, 0, 0 ]}
\begin{titlepage}
\begin{center}{\Huge \textbf{\textsf{openmath}\mbox{}}}\\[1cm]
\hypersetup{pdftitle=\textsf{openmath}}
\markright{\scriptsize \mbox{}\hfill \textsf{openmath} \hfill\mbox{}}
{\Large \textbf{\textsf{OpenMath} functionality in GAP\mbox{}}}\\[1cm]
{Version 09.03.31\mbox{}}\\[1cm]
{31 March 2009\mbox{}}\\[1cm]
\mbox{}\\[2cm]
{\large \textbf{Marco Costantini    \mbox{}}}\\
{\large \textbf{Alexander Konovalov    \mbox{}}}\\
{\large \textbf{Andrew Solomon    \mbox{}}}\\
\hypersetup{pdfauthor=Marco Costantini    ; Alexander Konovalov    ; Andrew Solomon    }
\end{center}\vfill

\mbox{}\\
{\mbox{}\\
\small \noindent \textbf{Marco Costantini    } --- Email: \href{mailto://costanti at science dot unitn dot it} {\texttt{costanti at science dot unitn dot it}}\\
 --- Homepage: \href{http://www-math.science.unitn.it/~costanti/} {\texttt{http://www-math.science.unitn.it/\texttt{\symbol{126}}costanti/}}\\
 --- Address: \begin{minipage}[t]{8cm}\noindent
 Department of Mathematics\\
 University of Trento\\
 \end{minipage}
}\\
{\mbox{}\\
\small \noindent \textbf{Alexander Konovalov    } --- Email: \href{mailto://alexk at mcs dot st-andrews dot ac dot uk} {\texttt{alexk at mcs dot st-andrews dot ac dot uk}}\\
 --- Homepage: \href{http://www.cs.st-andrews.ac.uk/~alexk/} {\texttt{http://www.cs.st-andrews.ac.uk/\texttt{\symbol{126}}alexk/}}\\
 --- Address: \begin{minipage}[t]{8cm}\noindent
 School of Computer Science\\
 University of St Andrews\\
 Jack Cole Building, North Haugh,\\
 St Andrews, Fife, KY16 9SX, Scotland\\
 \end{minipage}
}\\
{\mbox{}\\
\small \noindent \textbf{Andrew Solomon    } --- Email: \href{mailto://andrew at illywhacker dot net} {\texttt{andrew at illywhacker dot net}}\\
 --- Homepage: \href{http://www.illywhacker.net/} {\texttt{http://www.illywhacker.net/}}\\
 --- Address: \begin{minipage}[t]{8cm}\noindent
 Faculty of IT\\
 University of Technology, Sydney\\
 Broadway, NSW 2007\\
 Australia\\
 \end{minipage}
}\\
\end{titlepage}

\newpage\setcounter{page}{2}
{\small 
\section*{Abstract}
\logpage{[ 0, 0, 1 ]}
 \index{SCSCP package@\textsf{openmath} package} The \textsf{openmath} package provides an \textsf{OpenMath} phrasebook for \textsf{GAP}: it allows \textsf{GAP} users to import and export mathematical objects encoded in OpenMath, for the
purpose of exchanging them with other applications which are \textsf{OpenMath}-enabled. \mbox{}}\\[1cm]
{\small 
\section*{Copyright}
\logpage{[ 0, 0, 2 ]}
 The \textsf{openmath} package is free software; you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your option) any later
version. For details, see the FSF's own site \href{http://www.gnu.org/licenses/gpl.html} {\texttt{http://www.gnu.org/licenses/gpl.html}}. 

 Additionally, The \textsf{openmath} package contains code developed at INRIA (copyright INRIA), under the ESPRIT
project number 24969 (OpenMath). The user may not use the library in
commercial products without seeking permission from the \textsf{GAP} group (support@gap-system.org) and the CAFE team at INRIA SA
(stephane.dalmas@sophia.inria.fr). \mbox{}}\\[1cm]
{\small 
\section*{Acknowledgements}
\logpage{[ 0, 0, 3 ]}
 On various stages the development of the \textsf{openmath} package was supported by: 
\begin{itemize}
\item European Commission through ESPRIT grant EP 24969 ``Accessing and Using Mathematical Information Electronically'' (see \href{http://web.archive.org/web/20040416013945/http://www.nag.co.uk/projects/OpenMath.html} {\texttt{http://web.archive.org/web/20040416013945/http://www.nag.co.uk/projects/OpenMath.html}}).
\item EU FP6 Programme project 026133 ``SCIEnce - Symbolic Computation Infrastructure for Europe'' (see \href{http://www.symbolic-computation.org/} {\texttt{http://www.symbolic-computation.org/}}).
\end{itemize}
 We acknowledge with gratitude this support.

 \mbox{}}\\[1cm]
\newpage

\def\contentsname{Contents\logpage{[ 0, 0, 4 ]}}

\tableofcontents
\newpage

  
\chapter{\textcolor{Chapter }{Introduction and Installation}}\label{Intro}
\logpage{[ 1, 0, 0 ]}
\hyperdef{L}{X7FE7D77A82FEB4AB}{}
{
  The \textsf{GAP} package \textsf{openmath} provides an \textsf{OpenMath} phrasebook for \textsf{GAP}: it allows \textsf{GAP} users to import and export mathematical objects encoded in \textsf{OpenMath}, for the purpose of exchanging them with other applications which are \textsf{OpenMath}-enabled. 

 For further information about \textsf{OpenMath} standard see the \textsf{OpenMath} homepage \href{http://www.openmath.org} {\texttt{http://www.openmath.org}}. 

 The \textsf{openmath} package will be useful only if used in conjunction with any other \textsf{OpenMath}-enabled application. For the automated exchange of the \textsf{OpenMath}-encoded data with other compliant applications, we suggest to use the \textsf{GAP} package \textsf{SCSCP} (\cite{SCSCPpkg}) which implements the Symbolic Computation Software Composability protocol (\cite{SCSCPspec}) for the \textsf{GAP} system, providing suport for \textsf{OpenMath} content dictionaries \textsf{scscp1} and \textsf{scscp2} (\cite{scscp1cd}, \cite{scscp2cd}). 

 To use \textsf{openmath} package it is required to install the \textsf{GAPDoc} package \cite{GAPDoc} to use \textsf{openmath} help system and parse \textsf{OpenMath} objects in XML encoding. 

 To install \textsf{openmath} package, unpack the archive and place the \texttt{openmath} directory in the \texttt{pkg} subdirectory of your \textsf{GAP}4.4 installation. When you don't have access to the directory of your main \textsf{GAP} installation, you can also install the package \emph{outside the \textsf{GAP} main directory} by unpacking it inside a directory \texttt{MYGAPDIR/pkg}. Then to be able to load \textsf{openmath} you need to call GAP with the \texttt{-l ";MYGAPDIR"} option. 

 The package comes together with the program \texttt{gpipe} which should be used to parse binary \textsf{OpenMath} format. To compile binaries, do the following: 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  cd pkg/openmath
  cd OMCv1.3c/src/
  ./configure
  make
  cd ../../
  ./configure ../../
  make
  
\end{Verbatim}
 However, it is fine to ignore this step if binary \textsf{OpenMath} format will not be used. }

  
\chapter{\textcolor{Chapter }{\textsf{OpenMath} functionality in \textsf{GAP}}}\label{OpenMathFunctionality}
\logpage{[ 2, 0, 0 ]}
\hyperdef{L}{X7FE774BE829841A0}{}
{
  
\section{\textcolor{Chapter }{Loading the package}}\label{OpenMath}
\logpage{[ 2, 1, 0 ]}
\hyperdef{L}{X87B74F4A7E059AED}{}
{
  The package is loaded as shown below 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> LoadPackage("openmath");
  -----------------------------------------------------------------------------
  Loading  openmath 09.03.31 (OpenMath functionality in GAP)
  by Marco Costantini (http://www-math.science.unitn.it/~costanti/),
     Alexander Konovalov (http://www.cs.st-andrews.ac.uk/~alexk/), and
     Andrew Solomon (http://www.illywhacker.net/).
  -----------------------------------------------------------------------------
  #I  Warning: package openmath, the program `gpipe' is not compiled.
  true
  
\end{Verbatim}
 During this step, the \textsf{GAP} system may load required and suggested packages as well. }

 
\section{\textcolor{Chapter }{Viewing OpenMath representation of an object}}\label{ViewOpenMath}
\logpage{[ 2, 2, 0 ]}
\hyperdef{L}{X817CD8387FEDF873}{}
{
  

\subsection{\textcolor{Chapter }{OMPrint}}
\logpage{[ 2, 2, 1 ]}\nobreak
\hyperdef{L}{X7B1815F078D8312B}{}
{\noindent\textcolor{FuncColor}{$\Diamond$\ \texttt{OMPrint({\slshape obj})\index{OMPrint@\texttt{OMPrint}}
\label{OMPrint}
}\hfill{\scriptsize (function)}}\\


 OMPrint writes the default XML OpenMath encoding of GAP object \mbox{\texttt{\slshape obj}} to the standard output. 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> g := Group((1,2,3));;
  gap> OMPrint(g);
  <OMOBJ>
  	<OMA>
  		<OMS cd="group1" name="Group"/>
  		<OMA>
  			<OMS cd="permut1" name="Permutation"/>
  			<OMI> 2</OMI>
  			<OMI> 3</OMI>
  			<OMI> 1</OMI>
  		</OMA>
  	</OMA>
  </OMOBJ>
  
\end{Verbatim}
 }

 

\subsection{\textcolor{Chapter }{OMString}}
\logpage{[ 2, 2, 2 ]}\nobreak
\hyperdef{L}{X876AD5BC7A8812C3}{}
{\noindent\textcolor{FuncColor}{$\Diamond$\ \texttt{OMString({\slshape obj})\index{OMString@\texttt{OMString}}
\label{OMString}
}\hfill{\scriptsize (function)}}\\


 OMString returns a string with the default XML OpenMath encoding of GAP object \mbox{\texttt{\slshape obj}}. If used with the \texttt{noomobj} option, initial and final OMOBJ tags will be omitted. 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> OMString(42);
  "<OMOBJ> <OMI> 42</OMI> </OMOBJ>"
  gap> OMString((1,2):noomobj);
  "<OMA> <OMS cd=\"permut1\" name=\"permutation\"/> <OMI> 2</OMI> <OMI> 1</OMI> </OMA>"
  
\end{Verbatim}
 }

 }

 
\section{\textcolor{Chapter }{Writing and reading OpenMath code to/from streams}}\label{ExchangeOpenMath}
\logpage{[ 2, 3, 0 ]}
\hyperdef{L}{X7AAF47368566FB3F}{}
{
  

\subsection{\textcolor{Chapter }{OMGetObject}}
\logpage{[ 2, 3, 1 ]}\nobreak
\hyperdef{L}{X7FBDCB3C83BBB115}{}
{\noindent\textcolor{FuncColor}{$\Diamond$\ \texttt{OMGetObject({\slshape stream})\index{OMGetObject@\texttt{OMGetObject}}
\label{OMGetObject}
}\hfill{\scriptsize (function)}}\\


 \mbox{\texttt{\slshape stream}} is an input stream (see \texttt{InputTextFile} (\textbf{Reference: InputTextFile}), \texttt{InputTextUser} (\textbf{Reference: InputTextUser}), \texttt{InputTextString} (\textbf{Reference: InputTextString}), \texttt{InputOutputLocalProcess} (\textbf{Reference: InputOutputLocalProcess}), \texttt{InputOutputTCPStream} (\textbf{SCSCP: InputOutputTCPStream (for client)}) ) with an OpenMath object on it. OMGetObject takes precisely one object off \mbox{\texttt{\slshape stream}} and returns it as a GAP object. Both XML and binary OpenMath encoding are
supported: autodetection is used. This function requires either that the \textsf{GAP} package \textsf{GAPDoc} is available (for XML OpenMath), or that the external program `gpipe',
included in this package, has been compiled (for both XML and binary
OpenMath). This may be used to retrieve objects from a file, for example: 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> test3:=Filename(DirectoriesPackageLibrary("openmath","tst"),"test3.omt");;
  gap> stream := InputTextFile( test3 );;
  gap> OMGetObject(stream);
  912873912381273891
  gap> OMGetObject(stream);
  E(4)
  gap> CloseStream(stream);
  
\end{Verbatim}
 or it can be used to retrieve them from standard input - one may paste an
OpenMath object directly into standard input after issuing GAP with the
following commands: 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> stream := InputTextUser();;
  gap> g := OMGetObject(stream);CloseStream(stream);
  
\end{Verbatim}
 }

 

\subsection{\textcolor{Chapter }{OMPutObject}}
\logpage{[ 2, 3, 2 ]}\nobreak
\hyperdef{L}{X84FC6AD5872CBF33}{}
{\noindent\textcolor{FuncColor}{$\Diamond$\ \texttt{OMPutObject({\slshape stream, obj})\index{OMPutObject@\texttt{OMPutObject}}
\label{OMPutObject}
}\hfill{\scriptsize (function)}}\\


 OMPutObject writes (appends) the XML OpenMath encoding of the GAP object \mbox{\texttt{\slshape obj}} to output stream \mbox{\texttt{\slshape stream}} (see \texttt{InputTextFile} (\textbf{Reference: InputTextFile}), \texttt{OutputTextUser} (\textbf{Reference: OutputTextUser}), \texttt{OutputTextString} (\textbf{Reference: OutputTextString}), \texttt{InputOutputLocalProcess} (\textbf{Reference: InputOutputLocalProcess}), \texttt{InputOutputTCPStream} (\textbf{SCSCP: InputOutputTCPStream (for server)}) ). 
\begin{Verbatim}[fontsize=\small,frame=single,label=Example]
  
  gap> g := [[1,2],[1,0]];;
  gap> t := "";
  ""
  gap> s := OutputTextString(t, true);;
  gap> OMPutObject(s, g);
  gap> CloseStream(s);
  gap> Print(t);
  <OMOBJ>
  	<OMA>
  		<OMS cd="linalg2" name="matrix"/>
  		<OMA>
  			<OMS cd="linalg2" name="matrixrow"/>
  			<OMI> 1</OMI>
  			<OMI> 2</OMI>
  		</OMA>
  		<OMA>
  			<OMS cd="linalg2" name="matrixrow"/>
  			<OMI> 1</OMI>
  			<OMI> 0</OMI>
  		</OMA>
  	</OMA>
  </OMOBJ>
  
\end{Verbatim}
 }

 }

 
\section{\textcolor{Chapter }{Utilities}}\label{Utilities}
\logpage{[ 2, 4, 0 ]}
\hyperdef{L}{X7DFC90B87DC503A1}{}
{
  

\subsection{\textcolor{Chapter }{OMTest}}
\logpage{[ 2, 4, 1 ]}\nobreak
\hyperdef{L}{X851F202484C56D67}{}
{\noindent\textcolor{FuncColor}{$\Diamond$\ \texttt{OMTest({\slshape obj})\index{OMTest@\texttt{OMTest}}
\label{OMTest}
}\hfill{\scriptsize (function)}}\\


 Converts \mbox{\texttt{\slshape obj}} to OpenMath and back. Returns true iff \mbox{\texttt{\slshape obj}} is unchanged (as a GAP object) by this operation. The OpenMath standard does
not stipulate that converting to and from OpenMath should be the identity
function so this is a useful diagnostic tool. }

 }

 }

 \def\bibname{References\logpage{[ "Bib", 0, 0 ]}
\hyperdef{L}{X7A6F98FD85F02BFE}{}
}

\bibliographystyle{alpha}
\bibliography{manual}

\def\indexname{Index\logpage{[ "Ind", 0, 0 ]}
\hyperdef{L}{X83A0356F839C696F}{}
}


\printindex

\newpage
\immediate\write\pagenrlog{["End"], \arabic{page}];}
\immediate\closeout\pagenrlog
\end{document}
